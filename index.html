<html>

<head>
	
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

<style>
 .ctstyle{
  font-family: Verdana;
  font-size: 14px;

 }

.itemlist{
 font-size: 12px;
}
</style>

</head>

<body>


<p class="ctstyle" align="center">
<img width="30%" src="https://social-feeds-custom-content.herokuapp.com/bigicon.png" />
<br />

Social Studio Feed Display1
<br />




<div class="dropdown" align="center">
  <a id="dLabel" data-target="#" href="http://example.com" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
    Please click to select a Topic Profile
    <span class="caret"></span>
  </a>

  <ul class="dropdown-menu" aria-labelledby="dLabel">
    <li onclick="javascript:chosen('tp1')" >Topic Profile 1</li>
    <li onclick="javascript:chosen('tp2')" >Topic Profile 2</li>
    <li onclick="javascript:chosen('tp3')" >Topic Profile 3</li>
  </ul>


</div>



</p>





 <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
 <script src="https://code.jquery.com/jquery-3.2.1.js"></script>

 <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>



	<script src="/blocksdk.js"></script>

  <script>

    var selectedImageId, image, output, url, data, obj;


//var password, clientId, clientSecret, username;

// var settings = {
//   "async": false,
//   "crossDomain": true,
//   "url": "https://api.socialstudio.radian6.com/oauth/token",
//   "method": "POST",
//   "data": {
//     "grant_type": "password",
//     "client_id": "mcxxe11808eec6214492ba92dc49d8824c3d",
//     "client_secret": "5ed9314d51f340888ffd36f4364ffbae",
//     "username": "r6-json",
//     "password": "Thswnghdudwn$017"
//   }
// }

// $.ajax(settings).done(function (response) {
//   //console.log(response);
//   alert(response);
// });

var response = '';
$.ajax({ method: "POST",   
         url: "https://api.socialstudio.radian6.com/oauth/token",   
         async: true,
    "data": {
    "grant_type": "password",
    "client_id": "mcxxe11808eec6214492ba92dc49d8824c3d",
    "client_secret": "5ed9314d51f340888ffd36f4364ffbae",
    "username": "r6-json",
    "password": "Thswnghdudwn$017"
  },
  success : function(text)
         {
             response = text;
             alert("SUCCESS!");
         },
         error: function(error){
          //obj = jQuery.parseJSON(error);
          //alert("an error has been found" + JSON.stringify(error));
        }
});

//alert('outside: '+response);







//$.ajax({dataType:'json', url: url, data:data, success:success});



function chosen(imgId) {
 

   var sdk = new window.sfdc.BlockSDK(); //initalize SDK
  sdk.setContent(""); //resets content block

 var output = '{"data": [{"id": "4","title": "topic1"},{"id": "5","title": "topic2"}]}';





var obj = jQuery.parseJSON(output);
//alert( obj.data[0].title );


var content = "";

content += "<div><div class="list-group" id="list-tab" role="tablist">";

for (i in obj.data) {

content += "<a class='list-group-item list-group-item-action ctstyle itemlist' id='list-home-list' data-toggle='list' href='#list-home' role='tab' aria-controls='home' onclick='javascript:chosen('image1')'><image width='20%' id='image1' src='http://image.s4.exct.net/lib/fe8e1574746203787c/m/1/00b79af2-833a-4362-8c1a-81341a9079ce.jpg' /> <span style='padding-left: 20px'>Image 1</span></a>";

}

content += "</div></div>";

     sdk.setContent(content);

 alert("test");

}//end function chosen
      
    </script>
</body>
</html>